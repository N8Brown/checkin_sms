{% extends 'text/base.html' %}
{% load static %}
{% block content %}


<section>
    <h2>Account Settings</h2>
    <div class="row mb-3">
        <label for="first_name" class="col-sm-2 col-form-label">First Name</label>
        <div class="col-sm-10 col-md-6">
            <input class="form-control" type="text" value="{{user.first_name}}" aria-label="first_name" name="first_name" readonly>
        </div>
    </div>
    <div class="row mb-3">
        <label for="last_name" class="col-sm-2 col-form-label">Last Name</label>
        <div class="col-sm-10 col-md-6">
            <input class="form-control" type="text" value="{{user.last_name}}" aria-label="last_name" name="last_name" readonly>
        </div>
    </div>
    <div class="row mb-3">
        <label for="email" class="col-sm-2 col-form-label">Email</label>
        <div class="col-sm-10 col-md-6">
            <input class="form-control" type="email" value="{{user.email}}" aria-label="email" name="email" readonly>
        </div>
    </div>
    <a href="{% url 'user_edit_user' %}">Edit Account Settings</a>
</section>


<section>
    <h2>Check-In SMS URL & Phone Number</h2>
    <div class="row mb-3">
        <label for="user_url" class="col-sm-2 col-form-label">URL</label>
        <div class="col-sm-10 col-md-6">
            <input class="form-control" type="text" value="{{user_profile.user_url}}" aria-label="user_url" name="user_url" readonly>
        </div>
    </div>
    <div class="row mb-3">
        <label for="user_phone" class="col-sm-2 col-form-label">Phone</label>
        <div class="col-sm-10 col-md-6">
            <input class="form-control" type="text" value="{{user_profile.user_phone}}" aria-label="user_phone" name="user_phone" readonly>
        </div>
    </div>
    
    {% if not user_profile.user_phone %}
        <a href="{% url 'user_search_phone' %}">Add Phone Number</a>
    {% endif %}
</section>

<section >
    <h2>Client List</h2>
    <div class="overflow-scroll">
    {% if client_list %}
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Active</th>
                    <th>Phone</th>
                    <th>Email</th>
                    <th>Delete</th>
                </tr>    
            </thead>
            <tbody>
                {% for client in client_list %}
                    <tr>
                        <td>{{client.first_name}} {{client.last_name}}</td>
                        <td>{{client.is_active}}</td>
                        <td>{{client.phone}}</td>
                        <td>{{client.email}}</td>
                        <td class="text-center align-middle"><a class="btn btn-danger" href="{% url 'user_delete_client' client.id %}">x</a></td>
                    </tr>
                {% endfor %}
            </tbody>
            <tfoot></tfoot>
        </table>
    {% endif %}
    </div>
</section>

{% endblock %}